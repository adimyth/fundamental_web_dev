# Web Server Gateway Interface (WSGI)

WSGI is the Web Server Gateway Interface. **It is a specification that describes how a web server communicates with web applications**, and how web applications can be chained together to process one request.

A traditional web server does not understand or have any way to run Python applications. In the late 1990s, a developer named Grisha Trubetskoy came up with an Apache module called `mod_python` to *execute arbitrary Python code*. For several years in the late 1990s and early 2000s, Apache configured with `mod_python` ran most Python web applications.

However, mod_python wasn't a standard specification. It was just an implementation that allowed Python code to run on a server. As mod_python's development stalled and security vulnerabilities were discovered there was recognition by the community that a consistent way to execute Python code for web applications was needed.

Therefore the Python community came up with WSGI as a standard interface that modules and containers could implement. *WSGI is now the accepted approach for running Python web applications.*

![](https://www.fullstackpython.com/img/visuals/wsgi-interface.png)

> A WSGI server simply invokes a callable object on the WSGI application

WSGI is by design a simple standard interface for running Python code. As a web developer you won't need to know much more than
* that a WSGI container is a separate running process that runs on a different port than your web server
* your web server is configured to pass requests to the WSGI container which runs your web application, then pass the response (in the form of HTML) back to the requester

![](https://www.fullstackpython.com/img/visuals/web-browser-server-wsgi.png)

## Example Web Server Configuration
A web server's configuration specifies what requests should be passed to the WSGI server to process. Once a request is processed and generated by the WSGI server, the response is passed back through the web server and onto the browser.

For example, this Nginx web server's configuration specifies that Nginx should handle static assets (such as images, JavaScript, and CSS files) under the /static directory and pass all other requests to the WSGI server running on port 8000:
```python
# this specifies that there is a WSGI server running on port 8000
upstream app_server_djangoapp {
    server localhost:8000 fail_timeout=0;
}

# Nginx is set up to run on the standard HTTP port and listen for requests
server {
  listen 80;

  # nginx should serve up static files and never send to the WSGI server
  location /static {
    autoindex on;
    alias /srv/www/assets;
  }

  # requests that do not fall under /static are passed on to the WSGI
  # server that was specified above running on port 8000
  location / {
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header Host $http_host;
    proxy_redirect off;

    if (!-f $request_filename) {
      proxy_pass http://app_server_djangoapp;
      break;
    }
  }
}
```
